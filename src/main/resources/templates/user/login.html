<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


<!-- Head -->
<th:block th:replace="common/template :: common-head(title='..:: Tax Tracker | Login ::..', isLoginSignUp=true)"/>

<body class="skin-default card-no-border">
<!-- ============================================================== -->
<!-- Preloader - style you can find in spinners.css -->
<!-- ============================================================== -->
<div th:replace="common/tax/tax-template :: common-preloader"></div>
<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<section id="wrapper">
    <div class="login-register"
         th:style="'background-image:url(' + @{/vendor/assets/images/background/login-register.jpg} + ');'">
        <div class="login-box card">

            <div class="card-body">

                <div class="row text-center" id="messages">

                    <div class="alert col-12 alert-success alert-dismissible fade show"
                         role="alert" th:if="${#request.getParameter('logout')}">
                        <button aria-label="Close" class="close" data-dismiss="alert" type="button">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <strong>You have successfully logged out</strong>
                    </div>

                    <div class="alert col-12 alert-danger alert-dismissible fade show"
                         role="alert" th:if="${#request.getParameter('error')}">
                        <button aria-label="Close" class="close" data-dismiss="alert" type="button">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <strong>Invalid username and password</strong>
                    </div>

                    <div class="alert col-12 alert-success alert-dismissible fade show" role="alert" th:if="${verify}">
                        <button aria-label="Close" class="close" data-dismiss="alert" type="button">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <strong>Please check your email to complete registration.</strong>
                        <span>Allow up to 5 minutes to receive email.</span>
                    </div>

                    <div class="alert col-12 alert-success alert-dismissible fade show" role="alert" th:if="${errorMessage}">
                        <button aria-label="Close" class="close" data-dismiss="alert" type="button">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <span th:text="${errorMessage}"></span>
                    </div>

                    <div class="alert col-12 alert-success alert-dismissible fade show" role="alert"
                         th:if="${passwordReset}">
                        <button aria-label="Close" class="close" data-dismiss="alert" type="button">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <strong>Password successfully updated.</strong>
                    </div>

                </div>

                <form class="form-horizontal form-material" id="loginform"
                      method="post"
                      th:action="@{/login}">
                    <h3 class="text-center m-b-10">Sign In</h3>

                    <div class="form-group ">
                        <div class="col-xs-12">
                            <input autofocus class="form-control" id="username"
                                   name="username" placeholder="Email" required type="email">
                        </div>
                    </div>
                    <div class="form-group ">
                        <div class="col-xs-12">
                            <input class="form-control" id="password"
                                   name="password"
                                   placeholder="Password" required
                                   type="password">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-12">
                            <div class="d-flex no-block align-items-center">
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" id="remember-me"
                                           name="remember-me" type="checkbox">
                                    <label class="custom-control-label" for="remember-me">Remember me</label>
                                </div>
                                <div class="ml-auto">
                                    <a class="text-muted" href="javascript:void(0)" id="to-recover"><i
                                            class="fas fa-lock m-r-5"></i> Forgot pwd?</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center p-b-0">
                        <div class="col-xs-12">
                            <button class="btn btn-info btn-lg btn-block btn-rounded text-uppercase waves-effect waves-light"
                                    type="submit">Log In
                            </button>
                        </div>
                    </div>
                    <div class="form-group m-b-0">
                        <div class="col-sm-12 text-center">
                            Don't have an account?
                            <a class="text-info m-l-5"
                               th:href="@{${T(com.umdvita.taxtracker.constant.ControllerConstant).SIGN_UP_URL_MAPPING}}">
                                <b>Sign Up</b>
                            </a>
                            <a class="float-right" th:href="@{/}">Home</a>
                        </div>
                    </div>
                </form>
                <form class="form-horizontal form-material" id="recoverform" method="post"
                      th:action="@{${T(com.umdvita.taxtracker.constant.ControllerConstant).FORGOT_ROOT_MAPPING}}"
                      th:object="${userRequestModel}">
                    <div class="form-group ">
                        <div class="col-xs-12">
                            <h3>Recover Password</h3>
                            <p class="text-muted">Enter your Email and instructions will be sent to you! </p>
                        </div>
                    </div>
                    <div class="form-group ">
                        <div class="col-xs-12">
                            <label for="recover"></label>
                            <input autofocus class="form-control"
                                   id="recover" name="email" placeholder="Email" required th:field="*{email}"
                                   type="email">
                        </div>
                    </div>
                    <div class="form-group text-center m-t-20">
                        <div class="row">
                            <div class="col-xs-6 ml-3">
                                <button
                                        class="btn btn-info btn-md btn-block text-uppercase waves-effect waves-light"
                                        type="submit">Reset
                                </button>
                            </div>
                            <div class="col-xs-6 ml-2">
                                <button class="btn btn-primary btn-md btn-block text-uppercase waves-effect waves-light"
                                        id="cancel-reset">Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!--Common Body Scripts-->
<div th:replace="common/template :: common-scripts"></div>

</body>
</html>